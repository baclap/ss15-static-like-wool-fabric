<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="result-bar" attributes="stay leave">
    <template>
        <link rel="stylesheet" href="../../styles/result-bar.css">
        <div id="stay" layout horizontal center center-justified>{{stay}}</div>
        <div id="leave" layout horizontal center center-justified>{{leave}}</div>
    </template>
    <script>
        (function () {
            Polymer('result-bar', {
                stay: 50,
                leave: 50,
                observe: {
                    'stay': 'votesUpdated',
                    'leave': 'votesUpdated',
                },
                ready: function() {
                },
                votesUpdated: function() {
                    var total_votes = this.stay + this.leave;
                    this.$.stay.style.width = 100 * (this.stay / total_votes) + "%";
                    this.$.leave.style.width = 100 * (this.leave / total_votes) + "%";
                }
            });
        })();
    </script>
</polymer-element>
